upstream client{
    server client:5173;
}

upstream api{
    server api:3000;
}

# server{
#     listen 80;

#     location / {
#         proxy_pass http://client;
#     }

#     location /api {
#         proxy_pass http://api;
#     }
# }

http {
    server_tokens off;
    charset utf-8;

    server {
        listen 80;

        server_name _;

        location / {
         proxy_pass http://client;
        }

        location /api {
            proxy_pass http://api;
        }

        location ~ /.well-known/acme-challenge/ {
            root /var/www/certbot;
        }
    }
}